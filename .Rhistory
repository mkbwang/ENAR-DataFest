race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Frequency", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 8))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Frequency", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Frequency", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 25, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 8))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 25, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 8))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 9))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 10)
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 10))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 11))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 10))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text.x=element_text(angle=90,hjust=1,size=10),
axis.text.y = element_text(size = 15))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text.x=element_text(size=10),
axis.text.y = element_text(size = 15))
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15))
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text.x=element_text(size=10),
axis.text.y = element_text(size = 15),
legen.position="none")
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15),legen.position="none")
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15),legen.position="none")
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text.x=element_text(size=10),
axis.text.y = element_text(size = 15),
legend.position="none")
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15),legend.position="none")
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15),legend.position="none")
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
#race
race_table_1 <- svytable(~htn_jnc7+demo_race,design_no_diet) %>% prop.table()
race_table_1 <-  apply(race_table_1,2,function(x){x[2]/(x[1]+x[2])})
race_table_df <- data.frame(demo_race = names(race_table_1),Odds=race_table_1)
# race_year_p <- svychisq(~demo_race+htn_accaha_numeric,design_no_diet)$p.value
race_histogram <- ggplot(race_table_df, aes(x = demo_race, y = Odds, fill = demo_race)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set1") +  # This line sets the color palette
theme_minimal() +
labs(x = "Race", y = "Prop", title = "Hypertension Proportion grouped by Race") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text.x=element_text(size=12),
axis.text.y = element_text(size = 15),
legend.position="none")
# Gender
gender_table <- svytable(~htn_jnc7+demo_gender,design_no_diet) %>% prop.table()
gender_table <- apply(gender_table,2,function(x){x[2]/(x[1]+x[2])})
gender_table_df <- data.frame(demo_gender = names(gender_table),Odds=gender_table)
#gender_year_p <- svychisq(~demo_gender+htn_accaha_numeric,design_no_diet)$p.value
gender_histogram <- ggplot(gender_table_df, aes(x = demo_gender, y = Odds, fill = demo_gender)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set2") +  # Different color palette for distinction
theme_minimal() +
labs(x = "Gender", y = "Prop", title = "Hypertension Proportion grouped by Gender") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15),legend.position="none")
#Age Category
age_table <- svytable(~htn_jnc7+demo_age_cat,design_no_diet) %>% prop.table()
age_table <-apply(age_table,2,function(x){x[2]/(x[1]+x[2])})
age_table_df <- data.frame(demo_age_cat = names(age_table),Odds=age_table)
age_year_p <- svychisq(~demo_age_cat+htn_accaha_numeric,design_no_diet)$p.value
age_histogram <- ggplot(age_table_df, aes(x = demo_age_cat, y = Odds, fill = demo_age_cat)) +
geom_bar(stat = "identity", position = position_dodge()) +
scale_fill_brewer(palette = "Set3") +  # Another distinct color palette
theme_minimal() +
labs(x = "Age", y = "Prop", title = "Hypertension Proportion grouped by Age Category") +
theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 25),
axis.title = element_text(size = 25),
axis.text = element_text(size = 15),legend.position="none")
combine_hitogram_no_diet <- age_histogram+race_histogram+gender_histogram+plot_layout(ncol = 3)
ggsave("combined_histograms_htn_jnc7_no_diet.png", combine_hitogram_no_diet, width = 28, height = 10)
